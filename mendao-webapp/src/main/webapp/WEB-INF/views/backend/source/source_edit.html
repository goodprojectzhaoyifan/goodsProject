<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>门道网络 － 添加角色</title>
	<head th:include="layout/head :: backend"></head>
	<script type="text/javascript" th:src="@{'/js/layer/layer.js'}"></script>
	<link th:href="@{'/js/layer/skin/layer.css'}" rel="stylesheet"></link>
</head>
<body class="index">
	<div th:include="layout/common/header::nav-header"></div>
	<div class="container" id="content-container">
		<div class="row">
			<div th:include="layout/backend_nav::nav-backend"></div>
			<div class="col-md-9">
				<div class="panel panel-default panel-col">
					<div class="panel-heading">权限管理</div>
					
					<div class="panel-body form-horizontal" id="content">
						<div class="col-lg-5">
							<form id="defaultForm" method="post" th:action="@{/backend/source/edit}" >
								<input name="id" th:value="${fwSource.id}" type="hidden" />
								<div class="form-group">
			                        <label class="col-lg-4 control-label">权限名称</label>
			                        <div class="col-lg-8">
			                            <input type="text" class="form-control" name="sourceName" th:value="${fwSource.sourceName}" placeholder="请输入2-10位中文" required="required" 
			                            	pattern="^([\u4e00-\u9fa5]{2,10}|[a-zA-Z]{5,30})$"/>
			                        </div>
			                    </div>
			                    <div class="form-group">
			                        <label class="col-lg-4 control-label">权限链接</label>
			                        <div class="col-lg-8">
			                            <input type="text" class="form-control" name="sourceAction" th:value="${fwSource.sourceAction}" required="required" />
			                        </div>
			                    </div>
			                    <div class="form-group">
			                        <label class="col-lg-4 control-label">上级权限</label>
			                        <div class="col-lg-8">
			                            <input type="hidden" id="parent_id" name="parent.id" th:value="${fwSource.parent.id}" />
			                            <input type="text" class="form-control" id="parent_sourceName" name="parent.sourceName" th:value="${fwSource.parent.sourceName}" onclick="showOptions(1);"/>
			                        </div>
			                    </div>
			                    <div class="form-group">
			                        <label class="col-lg-4 control-label">菜单?</label>
			                        <div class="col-lg-8">
			                            <div class="checkbox" style="padding-left: 20px;">
			                                <input type="checkbox" name="isMenu" value="1" /> 是
			                            </div>
			                        </div>
			                    </div>
			                    <div class="form-group">
			                        <label class="col-lg-4 control-label">权限状态</label>
			                        <div class="col-lg-8">
			                            <div class="checkbox" style="padding-left: 20px;">
			                                <input type="checkbox" name="status" value="1" /> 可用
			                            </div>
			                        </div>
			                    </div>
			                    <div class="form-group">
			                        <label class="col-lg-4 control-label">权限描述</label>
			                        <div class="col-lg-8">
			                            <textarea class="form-control" name="description" th:text="${fwSource.description}"></textarea>
			                        </div>
			                    </div>
			                    <div class="form-group">
			                        <div class="col-lg-3 col-lg-offset-4">
			                            <button type="submit" class="btn btn-primary">提交</button>
			                        </div>
			                    </div>
							</form>
						</div>
						<div class="col-lg-7">
							
						</div>
					</div>	
				</div>
				
			</div>
		</div>	
	</div>
<script th:inline="javascript">
/*<![CDATA[*/
	var option_window;
	function showOptions(id){
		var url = /*[[@{'/backend/source/tree'}]]*/;
		url += '?text=' + $('#parent_sourceName').val();
		option_window = layer.open({
            type: 2,
            title: '选择父级权限',
            shadeClose: true,
            shade: false,
            maxmin: false, //开启最大化最小化按钮
            area: ['400px', '400px'],
            content: url
        });	
	};
	function closeOptions(){
		layer.close(option_window);
	};
	function setParent(id, text){
		$('#parent_id').val(id);
		$('#parent_sourceName').val(text);
	};
/*]]>*/
</script>
</body>
</html>
